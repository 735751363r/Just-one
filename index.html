<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR-Code Demo</title>
    <!-- QRCode.js Bibliothek -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
</head>
<body>
    <h1>QR-Code Demo</h1>

    <div id="qr-code-container"></div> <!-- Hier wird der QR-Code angezeigt -->

    <button id="generate-qr">QR-Code generieren</button>

    <script>
        // Funktion zur QR-Code Generierung
        document.getElementById("generate-qr").addEventListener("click", function() {
            const gameCode = generateGameCode();  // Spiel-Code generieren
            const qrCodeContainer = document.getElementById("qr-code-container");

            // Vorherigen QR-Code entfernen, falls vorhanden
            qrCodeContainer.innerHTML = ""; 

            // QR-Code mit dem Spiel-Code generieren
            QRCode.toCanvas(qrCodeContainer, gameCode, function (error) {
                if (error) {
                    console.error("Fehler bei der QR-Code Generierung:", error);
                    return; // Fehler abfangen und verhindern, dass der Code weiter läuft
                }
                console.log("QR-Code erfolgreich generiert!");

                // Spielcode in der Konsole anzeigen
                console.log("Spielcode:", gameCode);
            });
        });

        // Funktion zum Generieren eines zufälligen Spielcodes
        function generateGameCode() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let gameCode = '';
            for (let i = 0; i < 6; i++) {
                gameCode += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return gameCode;
        }
    </script>
</body>
</html>
