<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Just One - Spiellobby</title>
    <!-- Qrious-Bibliothek -->
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/qrious.min.js"></script>
</head>
<body>
    <h1>Just One - Spiellobby</h1>

    <!-- Spielcode-Anzeige -->
    <p>Dein Spielcode: <strong id="game-code-display">Noch kein Code</strong></p>

    <!-- QR-Code Canvas -->
    <canvas id="qr-code" style="border: 1px solid #000; width: 200px; height: 200px;"></canvas>

    <!-- Button zum Starten des Spiels -->
    <br>
    <button onclick="startGame()">Neues Spiel starten</button>

    <!-- JavaScript-Code -->
    <script>
        let gameCode = ""; // Variable zur Speicherung des Spielcodes

        // Funktion zur Generierung eines zufälligen Spielcodes
        function generateGameCode() {
            const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
            let code = "";
            for (let i = 0; i < 6; i++) {
                code += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return code;
        }

        // Funktion zum Starten des Spiels
        function startGame() {
            // Spielcode generieren
            gameCode = generateGameCode();
            console.log("Generierter Spielcode:", gameCode);

            // Spielcode anzeigen
            document.getElementById("game-code-display").textContent = gameCode;

            // QR-Code generieren
            try {
                const qr = new QRious({
                    element: document.getElementById("qr-code"), // Canvas-Element
                    value: gameCode,                             // Inhalt des QR-Codes
                    size: 200                                    // Größe des QR-Codes
                });
                console.log("QR-Code erfolgreich generiert!");
            } catch (error) {
                console.error("Fehler bei der QR-Code Generierung:", error);
            }
        }
    </script>
</body>
</html>
